# dailyreport
generate daily report by python and send  email 
根据数据定时生成每日报表并发送邮件

## 1. 获取数据

- 示例从db1/db2提取近几天或者前一天的数据，
- 并将数据转换成`numpy` data
    
## 2. pandas解析提取数据

- 根据数据性质和需要 利用pandas进行转换,生成基本的DataFrame或者时间序列
- 利用pandas清理冗余数据、填充缺失数据
- 对DataFrame 调整index和columns或者生成新的列或者多重索引

    
## 3. 分析汇总数据

- 利用pandas对DataFrame进行聚合分析
- 转换轴、聚合计算、汇总，生产数据
- 利用matplotlib对聚合汇总数据生成相应的图片(柱状图、折线图、饼图等)
    
## 4. 发送邮件

- 配置邮件格式、收发人、连接等
- 对分析汇总的数据、图片、附件填充到邮件
   
## 5. 配置定时任务

- 测试手动运行情况 (`python daily_report.py`)
- 配置crontab定时任务


## 6. 运行结果示例

|日期| 征信源 |日查询总量|查询成功量 |在查询中量 |查询失败总量|特殊失败量|
|-|-|-|-|-|-|-|
|2020-11-24	|A征信|	27337|	27315|	22	|0|	0|
|2020-11-23 |A征信|	30435|	30409|	25	|1|	1|
|2020-11-22 |A征信|	29667|	29652|	15	|0|	0|
|2020-11-21	|A征信|	26309|	26291|	17	|1|	1|
|2020-11-20	|A征信|	32336|	32295|	41	|0|	0|
|2020-11-19	|A征信|	31738|	31711|	25	|2|	2|
|2020-11-18	|A征信|	28489|	28464|	24	|1|	1|


